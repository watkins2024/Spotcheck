<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Boots on Ground — Enquiry</title>
  <meta name="description" content="Make an enquiry via WhatsApp or email. Your details are only used to arrange services — we don’t share them.">
  <link rel="icon" href="assets/favicon.ico">
  <link rel="stylesheet" href="styles.css">
  <script src="config.js"></script>
  <script src="shared.js" defer></script>
</head>
<body onload="isActive('contact.html')">
  <nav class="nav" role="navigation" aria-label="Main navigation">
    <div class="navin wrap">
  <div class="brand"><a href="index.html"><img src="assets/logo.png" alt="Boots on Ground logo" style="width:180px; height:auto; min-width:140px;"></a></div>
      <div class="navlinks">
        <a href="index.html">Home</a><a href="checklist.html">Templates</a><a href="addons.html">Add-ons</a><a href="pricing.html">Pricing</a><a href="faq.html">FAQ</a><a href="about.html">About</a><a class="btn primary" href="contact.html">Enquiry</a>
      </div>
    </div>
  </nav>

  <main class="wrap">
    <section>
      <h2>Make an enquiry (WhatsApp or email)</h2>
      <p class="sub">First visit is free — we'll show you our 10-item check and reporting process. We operate on weekly subscriptions billed monthly.</p>

      <div class="card" style="background:#f8fafc; border:1px solid #cbd5f5; color:#1e3a8a; margin-bottom:22px;">
        <h3 style="margin:0 0 8px;">Prefer to reach out directly?</h3>
        <p style="margin:0 0 14px; color:#475569;">Tap a button below if the form gives you trouble.</p>
        <div class="actions">
          <a id="directWa" class="btn primary" target="_blank" rel="noreferrer noopener">Open WhatsApp</a>
          <a id="directEmail" class="btn ghost" href="mailto:contact@bootsonground.com.au" target="_blank" rel="noreferrer noopener">Email contact@bootsonground.com.au</a>
        </div>
      </div>

      <form class="form" onsubmit="event.preventDefault(); validateAndSend();">
        <label>Name</label><input id="n" required placeholder="Full name">
        <label>Mobile</label><input id="m" required placeholder="04xx xxx xxx or +61 4xx xxx xxx" inputmode="tel">
        <label>Email</label><input id="e" type="email" placeholder="you@example.com" inputmode="email">
        <label>Service</label>
        <select id="svc">
          <option>Airbnb / Short-stay (weekly, $360/month)</option>
          <option>Absentee Residential (fortnightly, $180/month)</option>
          <option>Absentee Residential (monthly, $90/month)</option>
          <option>Body Corporate (standard weekly, $360/month)</option>
          <option>Body Corporate (large, $480/month)</option>
        </select>
        <label>Preferred time</label>
        <select id="slot">
          <option>Free first visit / site meeting (weekend by arrangement)</option>
          <option>Weeknight Tue–Thu 5–9pm (scheduled visit)</option>
        </select>
        <label>Notes (optional)</label>
        <textarea id="notes" placeholder="Anything specific you’d like us to check"></textarea>
        <div class="actions">
          <button class="btn primary" type="submit">Book free first check</button>
          <a id="emailBtn" class="btn ghost" target="_blank" rel="noreferrer noopener" style="display:none">Send via email instead</a>
        </div>
        <p id="contactStatus" style="color:#0f172a; font-size:14px; margin:6px 0 0; display:none;"></p>
        <small>Privacy: Your details are only used to arrange services. We don’t share them. See our <a href="privacy.html">Privacy Policy</a>.</small>
      </form>
    </section>
  </main>

  <footer class="wrap">
  <div>© <span id="year6"></span> Boots on Ground • Fully insured</div>
    <div style="display:flex;gap:12px"><a href="privacy.html">Privacy</a><a href="terms.html">Terms</a><a href="contact.html">Enquiry</a></div>
  </footer>

  <script>
    document.getElementById('year6').textContent=new Date().getFullYear();

    const plainPhone = (window.BOOTS_ON_GROUND_CONFIG && window.BOOTS_ON_GROUND_CONFIG.phoneForWhatsApp) || (typeof WA !== 'undefined' ? WA : '61405160602');
  const emailAddress = (window.BOOTS_ON_GROUND_CONFIG && window.BOOTS_ON_GROUND_CONFIG.email) || (typeof EMAIL !== 'undefined' ? EMAIL : 'contact@bootsonground.com.au');

    const directWa = document.getElementById('directWa');
    const directEmail = document.getElementById('directEmail');
    if(directWa){
      const cleanNumber = (plainPhone || '').replace(/[^0-9]/g,'');
      directWa.href = cleanNumber ? `https://wa.me/${cleanNumber}` : '#';
    }
    if(directEmail){
      directEmail.href = `mailto:${emailAddress}`;
      directEmail.textContent = `Email ${emailAddress}`;
    }

    function validateAndSend(){
      if(!n.value.trim()){ return showError(n,'Please enter your name.'); }
      if(!isValidAUPhone(m.value)){ return showError(m,'Please enter a valid AU mobile (04xx xxx xxx or +61).'); }
      if(e.value && !isValidEmail(e.value)){ return showError(e,'Please enter a valid email address.'); }

      const payload = `Boots on Ground enquiry\nName: ${n.value}\nMobile: ${m.value}\nEmail: ${e.value||'not provided'}\nService: ${svc.value}\nPreferred time: ${slot.value}\nNotes: ${notes.value||''}`;

      const waHref = waLink(payload);
      const popup = window.open(waHref,'_blank');
      if(!popup || popup.closed || typeof popup.closed === 'undefined'){
        window.location.href = waHref;
      }

      const mail = mailtoLink('Boots on Ground enquiry', payload);
      const emailBtn = document.getElementById('emailBtn');
      emailBtn.href = mail;
      emailBtn.style.display = 'inline-flex';
      emailBtn.textContent = `Email ${emailAddress}`;

      const status = document.getElementById('contactStatus');
      status.textContent = 'If WhatsApp did not open, use the email button — your message is pre-filled.';
      status.style.display = 'block';
    }

    function showError(field, message){
      alert(message);
      try{ field.focus(); }catch(err){}
      return false;
    }

    function isValidAUPhone(value){
      if(!value) return false;
      const digits = value.replace(/[^0-9+]/g,'');
      if(digits.startsWith('+61')){
        return digits.length === 12; // +61 plus 9 digits
      }
      if(digits.startsWith('61')){
        return digits.length === 11; // 61 plus 9 digits
      }
      return /^04\d{8}$/.test(digits);
    }

    function isValidEmail(value){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
    }
  </script>
</body>
</html>
